<%
  # Stats Card Component
  # Usage: <%= render 'shared/components/stats_card', title: "Total Users", value: 1250, icon: "bi-people", variant: "primary", trend: { value: 12, direction: "up" } %>
  
  local_assigns[:variant] ||= "primary"
  local_assigns[:size] ||= "default"
  
  card_classes = ["card", "stats-card", "text-center"]
  card_classes << "h-100" if local_assigns[:full_height]
  card_classes << "stats-card-hover" unless local_assigns[:no_hover]
  card_classes << (local_assigns[:class] || "")
  
  icon_bg_class = "bg-#{variant}"
  icon_text_class = "text-white"
%>

<div class="<%= card_classes.join(' ').strip %>">
  <div class="card-body">
    <div class="d-flex align-items-center justify-content-between mb-3">
      <div class="<%= icon_bg_class %> <%= icon_text_class %> rounded-circle p-3 stats-icon">
        <i class="<%= local_assigns[:icon] %> fs-4"></i>
      </div>
      <% if local_assigns[:trend] %>
        <div class="trend-indicator">
          <span class="trend-value text-<%= local_assigns[:trend][:direction] == 'up' ? 'success' : 'danger' %>">
            <i class="bi bi-arrow-<%= local_assigns[:trend][:direction] %>"></i>
            <%= local_assigns[:trend][:value] %>%
          </span>
        </div>
      <% end %>
    </div>
    
    <div class="stats-content">
      <h2 class="stats-value mb-2 text-<%= variant %>">
        <%= local_assigns[:value] %>
      </h2>
      <p class="stats-title text-muted mb-0">
        <%= local_assigns[:title] %>
      </p>
      <% if local_assigns[:subtitle] %>
        <small class="text-muted d-block mt-1">
          <%= local_assigns[:subtitle] %>
        </small>
      <% end %>
    </div>
    
    <% if local_assigns[:action] %>
      <div class="mt-3">
        <%= link_to local_assigns[:action][:label], local_assigns[:action][:path], 
              class: "btn btn-outline-#{variant} btn-sm" %>
      </div>
    <% end %>
  </div>
</div>