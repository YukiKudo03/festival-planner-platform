  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (4.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (3.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateIndustrySpecializations (20250712034044)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (27.5ms)[0m  [1m[35mCREATE TABLE "industry_specializations" ("id" bigserial primary key, "festival_id" bigint NOT NULL, "industry_type" character varying NOT NULL, "specialization_level" character varying DEFAULT 'basic' NOT NULL, "status" character varying DEFAULT 'planning' NOT NULL, "certification_required" boolean DEFAULT FALSE, "description" text, "priority" character varying DEFAULT 'medium', "specialization_code" character varying, "activated_at" timestamp(6), "completed_at" timestamp(6), "completion_notes" text, "compliance_standards" text, "specialized_features" text, "industry_regulations" text, "certification_requirements" text, "performance_kpis" text, "vendor_criteria" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f36f449e74"
FOREIGN KEY ("festival_id")
  REFERENCES "festivals" ("id")
) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_industry_specializations_on_festival_id" ON "industry_specializations" ("festival_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_industry_specializations_on_industry_type" ON "industry_specializations" ("industry_type") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_industry_specializations_on_status" ON "industry_specializations" ("status") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_industry_specializations_on_specialization_code" ON "industry_specializations" ("specialization_code") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "idx_on_festival_id_industry_type_c6db393dc4" ON "industry_specializations" ("festival_id", "industry_type") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250712034044') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateTourismCollaborations (20250712034050)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (10.1ms)[0m  [1m[35mCREATE TABLE "tourism_collaborations" ("id" bigserial primary key, "festival_id" bigint NOT NULL, "tourism_board_id" bigint NOT NULL, "coordinator_id" bigint NOT NULL, "collaboration_type" character varying NOT NULL, "status" character varying DEFAULT 'proposed' NOT NULL, "priority" character varying DEFAULT 'medium', "start_date" date NOT NULL, "end_date" date NOT NULL, "budget_allocation" decimal(12,2) NOT NULL, "expected_visitors" integer NOT NULL, "collaboration_number" character varying, "activated_at" timestamp(6), "completed_at" timestamp(6), "approved_at" timestamp(6), "approved_by" integer, "cancelled_at" timestamp(6), "cancelled_by" integer, "cancellation_reason" text, "completion_notes" text, "approval_notes" text, "description" text, "marketing_objectives" text, "target_demographics" text, "promotional_channels" text, "collaboration_benefits" text, "performance_metrics" text, "visitor_data" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d4941f1ba0"
FOREIGN KEY ("festival_id")
  REFERENCES "festivals" ("id")
, CONSTRAINT "fk_rails_1eb73fd19c"
FOREIGN KEY ("tourism_board_id")
  REFERENCES "municipal_authorities" ("id")
, CONSTRAINT "fk_rails_c1f5e908b7"
FOREIGN KEY ("coordinator_id")
  REFERENCES "users" ("id")
) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateTourismCollaborations (20250712034050)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "tourism_collaborations" ("id" bigserial primary key, "festival_id" bigint NOT NULL, "tourism_board_id" bigint NOT NULL, "coordinator_id" bigint NOT NULL, "collaboration_type" character varying NOT NULL, "status" character varying DEFAULT 'proposed' NOT NULL, "priority" character varying DEFAULT 'medium', "start_date" date NOT NULL, "end_date" date NOT NULL, "budget_allocation" decimal(12,2) NOT NULL, "expected_visitors" integer NOT NULL, "collaboration_number" character varying, "activated_at" timestamp(6), "completed_at" timestamp(6), "approved_at" timestamp(6), "approved_by" integer, "cancelled_at" timestamp(6), "cancelled_by" integer, "cancellation_reason" text, "completion_notes" text, "approval_notes" text, "description" text, "marketing_objectives" text, "target_demographics" text, "promotional_channels" text, "collaboration_benefits" text, "performance_metrics" text, "visitor_data" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d4941f1ba0"
FOREIGN KEY ("festival_id")
  REFERENCES "festivals" ("id")
, CONSTRAINT "fk_rails_1eb73fd19c"
FOREIGN KEY ("tourism_board_id")
  REFERENCES "municipal_authorities" ("id")
, CONSTRAINT "fk_rails_c1f5e908b7"
FOREIGN KEY ("coordinator_id")
  REFERENCES "users" ("id")
) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateMunicipalAuthorities (20250712034138)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "municipal_authorities" ("id" bigserial primary key, "name" character varying NOT NULL, "authority_type" character varying NOT NULL, "contact_person" character varying, "email" character varying, "phone" character varying, "address" text, "code" character varying, "api_endpoint" character varying, "api_key" character varying, "description" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_municipal_authorities_on_authority_type" ON "municipal_authorities" ("authority_type") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_municipal_authorities_on_code" ON "municipal_authorities" ("code") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_municipal_authorities_on_email" ON "municipal_authorities" ("email") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250712034138') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateTourismCollaborations (20250712034200)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (7.5ms)[0m  [1m[35mCREATE TABLE "tourism_collaborations" ("id" bigserial primary key, "festival_id" bigint NOT NULL, "tourism_board_id" bigint NOT NULL, "coordinator_id" bigint NOT NULL, "collaboration_type" character varying NOT NULL, "status" character varying DEFAULT 'proposed' NOT NULL, "priority" character varying DEFAULT 'medium', "start_date" date NOT NULL, "end_date" date NOT NULL, "budget_allocation" decimal(12,2) NOT NULL, "expected_visitors" integer NOT NULL, "collaboration_number" character varying, "activated_at" timestamp(6), "completed_at" timestamp(6), "approved_at" timestamp(6), "approved_by" integer, "cancelled_at" timestamp(6), "cancelled_by" integer, "cancellation_reason" text, "completion_notes" text, "approval_notes" text, "description" text, "marketing_objectives" text, "target_demographics" text, "promotional_channels" text, "collaboration_benefits" text, "performance_metrics" text, "visitor_data" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d4941f1ba0"
FOREIGN KEY ("festival_id")
  REFERENCES "festivals" ("id")
, CONSTRAINT "fk_rails_1eb73fd19c"
FOREIGN KEY ("tourism_board_id")
  REFERENCES "municipal_authorities" ("id")
, CONSTRAINT "fk_rails_c1f5e908b7"
FOREIGN KEY ("coordinator_id")
  REFERENCES "users" ("id")
) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_festival_id" ON "tourism_collaborations" ("festival_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_tourism_board_id" ON "tourism_collaborations" ("tourism_board_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_coordinator_id" ON "tourism_collaborations" ("coordinator_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_collaboration_type" ON "tourism_collaborations" ("collaboration_type") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_status" ON "tourism_collaborations" ("status") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_tourism_collaborations_on_collaboration_number" ON "tourism_collaborations" ("collaboration_number") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_start_date_and_end_date" ON "tourism_collaborations" ("start_date", "end_date") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_tourism_board_id" ON "tourism_collaborations" ("tourism_board_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateMunicipalAuthorities (20250712034138)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mDROP INDEX  "index_municipal_authorities_on_email" /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP INDEX  "index_municipal_authorities_on_code" /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_municipal_authorities_on_authority_type" /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mDROP TABLE "municipal_authorities" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (1.1ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250712034138' /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateIndustrySpecializations (20250712034044)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP INDEX  "idx_on_festival_id_industry_type_c6db393dc4" /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP INDEX  "index_industry_specializations_on_specialization_code" /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_industry_specializations_on_status" /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP INDEX  "index_industry_specializations_on_industry_type" /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mDROP TABLE "industry_specializations" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250712034044' /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
Migrating to AddRevenueTypeToRevenues (20250704192933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "revenues" DROP COLUMN "revenue_type" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20250704192933' /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FestivalPlannerPlatform'*/[0m
Migrating to AddRevenueTypeToRevenues (20250704192933)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mALTER TABLE "revenues" ADD "revenue_type" character varying DEFAULT 'other' NOT NULL /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250704192933') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateIndustrySpecializations (20250712034044)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (7.8ms)[0m  [1m[35mCREATE TABLE "industry_specializations" ("id" bigserial primary key, "festival_id" bigint NOT NULL, "industry_type" character varying NOT NULL, "specialization_level" character varying DEFAULT 'basic' NOT NULL, "status" character varying DEFAULT 'planning' NOT NULL, "certification_required" boolean DEFAULT FALSE, "description" text, "priority" character varying DEFAULT 'medium', "specialization_code" character varying, "activated_at" timestamp(6), "completed_at" timestamp(6), "completion_notes" text, "compliance_standards" text, "specialized_features" text, "industry_regulations" text, "certification_requirements" text, "performance_kpis" text, "vendor_criteria" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_f36f449e74"
FOREIGN KEY ("festival_id")
  REFERENCES "festivals" ("id")
) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_industry_specializations_on_festival_id" ON "industry_specializations" ("festival_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_industry_specializations_on_industry_type" ON "industry_specializations" ("industry_type") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_industry_specializations_on_status" ON "industry_specializations" ("status") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_industry_specializations_on_specialization_code" ON "industry_specializations" ("specialization_code") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "idx_on_festival_id_industry_type_c6db393dc4" ON "industry_specializations" ("festival_id", "industry_type") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250712034044') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateMunicipalAuthorities (20250712034138)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (5.3ms)[0m  [1m[35mCREATE TABLE "municipal_authorities" ("id" bigserial primary key, "name" character varying NOT NULL, "authority_type" character varying NOT NULL, "contact_person" character varying, "email" character varying, "phone" character varying, "address" text, "code" character varying, "api_endpoint" character varying, "api_key" character varying, "description" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_municipal_authorities_on_authority_type" ON "municipal_authorities" ("authority_type") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_municipal_authorities_on_code" ON "municipal_authorities" ("code") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE INDEX "index_municipal_authorities_on_email" ON "municipal_authorities" ("email") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250712034138') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateTourismCollaborations (20250712034200)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (5.4ms)[0m  [1m[35mCREATE TABLE "tourism_collaborations" ("id" bigserial primary key, "festival_id" bigint NOT NULL, "tourism_board_id" bigint NOT NULL, "coordinator_id" bigint NOT NULL, "collaboration_type" character varying NOT NULL, "status" character varying DEFAULT 'proposed' NOT NULL, "priority" character varying DEFAULT 'medium', "start_date" date NOT NULL, "end_date" date NOT NULL, "budget_allocation" decimal(12,2) NOT NULL, "expected_visitors" integer NOT NULL, "collaboration_number" character varying, "activated_at" timestamp(6), "completed_at" timestamp(6), "approved_at" timestamp(6), "approved_by" integer, "cancelled_at" timestamp(6), "cancelled_by" integer, "cancellation_reason" text, "completion_notes" text, "approval_notes" text, "description" text, "marketing_objectives" text, "target_demographics" text, "promotional_channels" text, "collaboration_benefits" text, "performance_metrics" text, "visitor_data" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_d4941f1ba0"
FOREIGN KEY ("festival_id")
  REFERENCES "festivals" ("id")
, CONSTRAINT "fk_rails_1eb73fd19c"
FOREIGN KEY ("tourism_board_id")
  REFERENCES "municipal_authorities" ("id")
, CONSTRAINT "fk_rails_c1f5e908b7"
FOREIGN KEY ("coordinator_id")
  REFERENCES "users" ("id")
) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_festival_id" ON "tourism_collaborations" ("festival_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_tourism_board_id" ON "tourism_collaborations" ("tourism_board_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_coordinator_id" ON "tourism_collaborations" ("coordinator_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_collaboration_type" ON "tourism_collaborations" ("collaboration_type") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_status" ON "tourism_collaborations" ("status") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_tourism_collaborations_on_collaboration_number" ON "tourism_collaborations" ("collaboration_number") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_tourism_collaborations_on_start_date_and_end_date" ON "tourism_collaborations" ("start_date", "end_date") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250712034200') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateUserPreferences (20250712000001)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (12.3ms)[0m  [1m[35mCREATE TABLE "user_preferences" ("id" bigserial primary key, "user_id" bigint NOT NULL, "language" character varying(10), "timezone" character varying(50), "dashboard_widgets" text, "dashboard_layout" text, "notification_preferences" text, "theme_settings" text, "quick_actions" text, "favorite_features" text, "high_contrast_mode" boolean DEFAULT FALSE, "screen_reader_optimized" boolean DEFAULT FALSE, "font_scale" smallint DEFAULT 100, "enable_animations" boolean DEFAULT TRUE, "auto_refresh_enabled" boolean DEFAULT TRUE, "auto_refresh_interval" integer DEFAULT 30, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_a69bfcfd81"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_user_preferences_on_user_id" ON "user_preferences" ("user_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_language" ON "user_preferences" ("language") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_timezone" ON "user_preferences" ("timezone") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_high_contrast_mode" ON "user_preferences" ("high_contrast_mode") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_user_preferences_on_screen_reader_optimized" ON "user_preferences" ("screen_reader_optimized") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250712000001') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (1.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateLineIntegrations (20250712133419)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (11.4ms)[0m  [1m[35mCREATE TABLE "line_integrations" ("id" bigserial primary key, "festival_id" bigint NOT NULL, "user_id" bigint NOT NULL, "line_channel_id" character varying NOT NULL, "line_channel_secret" character varying NOT NULL, "line_access_token" character varying NOT NULL, "webhook_url" character varying, "settings" text, "status" integer DEFAULT 0, "is_active" boolean DEFAULT FALSE, "line_user_id" character varying, "notification_preferences" character varying, "last_sync_at" timestamp(6), "last_webhook_received_at" timestamp(6), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_08e6e7dd1c"
FOREIGN KEY ("festival_id")
  REFERENCES "festivals" ("id")
, CONSTRAINT "fk_rails_d417e463e4"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_line_integrations_on_festival_id" ON "line_integrations" ("festival_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_line_integrations_on_user_id" ON "line_integrations" ("user_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_line_integrations_on_line_channel_id" ON "line_integrations" ("line_channel_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_line_integrations_on_festival_id_and_user_id" ON "line_integrations" ("festival_id", "user_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_line_integrations_on_status" ON "line_integrations" ("status") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE INDEX "index_line_integrations_on_is_active" ON "line_integrations" ("is_active") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250712133419') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateLineGroups (20250712133425)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "line_groups" ("id" bigserial primary key, "line_integration_id" bigint NOT NULL, "line_group_id" character varying NOT NULL, "name" character varying NOT NULL, "description" text, "is_active" boolean DEFAULT TRUE, "member_count" integer DEFAULT 0, "last_activity_at" timestamp(6), "group_settings" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_9f554a6dd2"
FOREIGN KEY ("line_integration_id")
  REFERENCES "line_integrations" ("id")
) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE INDEX "index_line_groups_on_line_integration_id" ON "line_groups" ("line_integration_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_line_groups_on_line_group_id" ON "line_groups" ("line_group_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_line_groups_on_line_integration_id_and_line_group_id" ON "line_groups" ("line_integration_id", "line_group_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_line_groups_on_is_active" ON "line_groups" ("is_active") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_line_groups_on_last_activity_at" ON "line_groups" ("last_activity_at") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250712133425') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
Migrating to CreateLineMessages (20250712133430)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (7.0ms)[0m  [1m[35mCREATE TABLE "line_messages" ("id" bigserial primary key, "line_group_id" bigint NOT NULL, "user_id" bigint, "line_message_id" character varying NOT NULL, "message_text" text NOT NULL, "message_type" character varying DEFAULT 'text', "parsed_content" text, "task_id" bigint, "is_processed" boolean DEFAULT FALSE, "sender_line_user_id" character varying, "sender_display_name" character varying, "line_timestamp" timestamp(6), "processing_errors" text, "intent_type" character varying, "confidence_score" decimal(5,3), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_6f00f587b8"
FOREIGN KEY ("line_group_id")
  REFERENCES "line_groups" ("id")
, CONSTRAINT "fk_rails_83ca74835c"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
, CONSTRAINT "fk_rails_680f36b461"
FOREIGN KEY ("task_id")
  REFERENCES "tasks" ("id")
) /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_line_messages_on_line_group_id" ON "line_messages" ("line_group_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE INDEX "index_line_messages_on_user_id" ON "line_messages" ("user_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_line_messages_on_task_id" ON "line_messages" ("task_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_line_messages_on_line_message_id" ON "line_messages" ("line_message_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_line_messages_on_line_group_id_and_line_timestamp" ON "line_messages" ("line_group_id", "line_timestamp") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE INDEX "index_line_messages_on_is_processed" ON "line_messages" ("is_processed") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE INDEX "index_line_messages_on_intent_type" ON "line_messages" ("intent_type") /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_line_messages_on_sender_line_user_id" ON "line_messages" ("sender_line_user_id") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250712133430') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='FestivalPlannerPlatform'*/[0m
Migrating to AddLineEnabledToNotificationSettings (20250712140348)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "notification_settings" ADD "line_enabled" boolean DEFAULT FALSE NOT NULL /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE INDEX "index_notification_settings_on_line_enabled" ON "notification_settings" ("line_enabled") /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250712140348') RETURNING "version" /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='FestivalPlannerPlatform'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(6411867498922812465) /*application='FestivalPlannerPlatform'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='FestivalPlannerPlatform'*/[0m
